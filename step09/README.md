# Шаг 10. Собираем все вместе и немного о Makefile
Пришла пора для того, чтобы доделать наше приложение и запустить его.
Для конфигурации мы воспользуемся пакетом [flag](https://godoc.org/flag)
Ну и нам нужно будет только создать апи, и запустить его.
ПОлучается следующий код
```Go
func main() {
	bindAddr := flag.String("bind_addr", ":8080", "Set bind address")
	size := flag.Int("lru_size", 20, "Set lru size per driver")
	flag.Parse()
	a := api.New(*bindAddr, *size)
	a.Start()
	a.WaitStop()
}

```
В GO есть несколько правил хорошего тона:

1. В твоем пакете должны быть тесты
2. Твои библиотеки не должны писать логи
3. Сообщения об ошибках написаны в lowercase
4. Твой код должен быть отформатирован

Для того, чтобы код всегда был отформатирован, помимо триггеров на сохранение, можно запустить команду `go fmt ./...` и он отформатирует все файлы.
Для примера поделюсь с вами простым `Makefile` 
```make
TARGET=codelab

all: fmt clean build

clean:
	rm -rf $(TARGET)

depends:
	go get -u -v

build:
	go build -v -o $(TARGET) main.go

fmt:
	go fmt ./...

test:
	go test -v ./...
```
Выполнив make вы отформатируете весь код и пересоберете проект

## Поздравляю!
Вы можете собрать проект, запустив `make` и перейти к [следующему](../step10/README.md) шагу
